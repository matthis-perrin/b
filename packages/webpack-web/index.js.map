{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;;;;AAA+B;AAI6B;AACS;AACE;AACX;AACa;AAElE,SAASM,SAASA,CAACC,IAIzB,EAAiB;EAChB,MAAM;IAACC,OAAO;IAAEC,KAAK;IAAEC;EAAU,CAAC,GAAGH,IAAI;EACzC,MAAMI,IAAI,GAAGV,4EAAU,CAAC;IAACO,OAAO;IAAEC;EAAK,CAAC,CAAC;EACzC,OAAO;IACL,GAAGE,IAAI;IACPC,MAAM,EAAE,KAAK;IACbC,KAAK,EAAE;MAACC,IAAI,EAAEd,+CAAI,CAACQ,OAAO,EAAE,eAAe;IAAC,CAAC;IAC7CO,MAAM,EAAE;MACNC,IAAI,EAAEhB,+CAAI,CAACQ,OAAO,EAAE,MAAM,CAAC;MAC3BS,QAAQ,EAAG,yBAAwB;MACnCC,KAAK,EAAE,IAAI;MACXR,UAAU,EAAE;IACd,CAAC;IACDS,MAAM,EAAE;MACNC,KAAK,EAAE,CAAClB,qFAAc,CAAC,CAAC,EAAEC,uFAAe,CAAC,CAAC;IAC7C,CAAC;IACDkB,OAAO,EAAE,CAAC,IAAIV,IAAI,CAACU,OAAO,IAAI,EAAE,CAAC,EAAEjB,4EAAU,CAAC;MAACI,OAAO;MAAEE;IAAU,CAAC,CAAC,CAAC;IACrEY,SAAS,EAAEb,KAAK,GAAGJ,yFAAgB,CAACG,OAAO,CAAC,GAAGe,SAAS;IACxDC,YAAY,EAAE;MACZ,GAAGb,IAAI,CAACa,YAAY;MACpBC,WAAW,EAAE;QACXC,WAAW,EAAE;UACXC,MAAM,EAAE;YACNC,IAAI,EAAE,yBAAyB;YAC/BC,MAAM,EAAE,SAAS;YACjBC,IAAI,EAAE,QAAQ;YACdC,OAAO,EAAE;UACX;QACF;MACF;IACF;EACF,CAAC;AACH;;;;;;AC9CA;;;;;;;;;;;;;;;;;ACEgE;AACA;AACgB;AAChB;AACM;AACV;AAClB;AAEnC,SAAS9B,UAAUA,CAACM,IAAuC,EAAiB;EACjF,MAAM;IAACC;EAAO,CAAC,GAAGD,IAAI;EAEtB,OAAO;IACLgC,IAAI,EAAE,MAAM;IACZ/B,OAAO;IACPK,KAAK,EAAE,CAAC,CAAC;IACT2B,OAAO,EAAE,YAAY;IACrBC,OAAO,EAAE;MACPC,UAAU,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC;MAC1CC,KAAK,EAAEP,sFAAgB,CAAC5B,OAAO;IACjC,CAAC;IACDa,OAAO,EAAE,CAAC,IAAIgB,wEAAU,CAAC,CAAC,EAAEH,gGAAmB,CAAC1B,OAAO,CAAC,EAAEyB,gFAAY,CAAC,CAAC,EAAED,gFAAY,CAAC,CAAC,CAAC;IACzFY,KAAK,EAAE,KAAK;IACZC,qBAAqB,EAAE;MAACC,KAAK,EAAE;IAAO,CAAC;IACvCtB,YAAY,EAAE;MACZuB,QAAQ,EAAET,0DAAM,CAAC,CAAC;MAClBU,SAAS,EAAE,CAACb,gFAAY,CAAC,CAAC;IAC5B,CAAC;IACDc,WAAW,EAAE;MACXC,UAAU,EAAE;IACd;EACF,CAAC;AACH;;;;;;;;;;;;;ACjC8B,CAAC;;AAGW;AAEnC,SAASlB,YAAYA,CAAA,EAAkB;EAC5C,MAAMqB,SAAS,GAAG,UAAU;EAC5B,MAAMC,QAAQ,GAAGC,MAAM,CAACC,WAAW,CACjCD,MAAM,CAACE,OAAO,CAACC,OAAO,CAACC,GAAG,CAAC,CAAC;EAAA,CACzBC,MAAM,CAAC,CAAC,CAAC9B,IAAI,CAAC,KAAKA,IAAI,CAAC+B,UAAU,CAACR,SAAS,CAAC,CAAC,CAC9CS,GAAG,CAAC,CAAC,CAAChC,IAAI,EAAEiC,KAAK,CAAC,KAAK,CAACC,MAAM,CAAClC,IAAI,CAACmC,KAAK,CAACZ,SAAS,CAACa,MAAM,CAAC,CAAC,EAAEC,IAAI,CAACC,SAAS,CAACL,KAAK,CAAC,CAAC,CACzF,CAAC;EACD,OAAO,IAAIZ,6DAAoB,CAAC;IAC9B;IACA,sBAAsB,EAAEgB,IAAI,CAACC,SAAS,CAAChB,0DAAM,CAAC,CAAC,CAAC;IAChD;IACA,GAAGE;EACL,CAAC,CAAC;AACJ;;;;;;AClBA;;;;;;;;;;;;;;;;;;;;;;ACAuC;AAC6B;AAC5B;AAEF;AAQ/B,SAAShB,MAAMA,CAAA,EAAY;EAChC,OAAOoB,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC,KAAK,YAAY,CAAC,CAAC;AACnD;;AAEO,SAASmB,UAAUA,CAAA,EAAY;EACpC,OAAOpB,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC,KAAK,GAAG,CAAC,CAAC;AAC7C;;AAEO,SAASP,MAAMA,CAAA,EAAiC;EACrD,OAAOd,MAAM,CAAC,CAAC,GAAG,YAAY,GAAG,aAAa;AAChD;AAEA,MAAMyC,gBAAgB,GAAG,IAAIC,GAAG,CAA8C,CAAC;AAExE,eAAeC,eAAeA,CAACC,CAAS,EAAgD;EAC7F,IAAIH,gBAAgB,CAACI,GAAG,CAACD,CAAC,CAAC,EAAE;IAC3B,OAAOH,gBAAgB,CAACK,GAAG,CAACF,CAAC,CAAC;EAChC;EACA,IAAI;IACF,MAAMG,KAAK,GAAG,MAAMV,sDAAI,CAACO,CAAC,CAAC;IAC3B,IAAIG,KAAK,CAACC,WAAW,CAAC,CAAC,EAAE;MACvB,MAAMC,GAAG,GAAG,MAAMf,yDAAO,CAACU,CAAC,CAAC;MAC5B,IAAIK,GAAG,CAACC,QAAQ,CAAC,cAAc,CAAC,EAAE;QAChC,MAAMC,WAAW,GAAG,MAAMhB,0DAAQ,CAACzE,+CAAI,CAACkF,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAMQ,IAAI,GAAGvB,IAAI,CAACwB,KAAK,CAACF,WAAW,CAACG,QAAQ,CAAC,CAAC,CAA4B;QAC1Eb,gBAAgB,CAACc,GAAG,CAACX,CAAC,EAAEQ,IAAI,CAAC;QAC7B,OAAOA,IAAI;MACb;MACA,IAAIR,CAAC,KAAK,GAAG,EAAE;QACb,OAAO3D,SAAS;MAClB;IACF;IACA,MAAMuE,GAAG,GAAG,MAAMb,eAAe,CAACxC,kDAAO,CAAE,GAAEyC,CAAE,KAAI,CAAC,CAAC;IACrDH,gBAAgB,CAACc,GAAG,CAACX,CAAC,EAAEY,GAAG,CAAC;IAC5B,OAAOA,GAAG;EACZ,CAAC,CAAC,OAAOC,GAAY,EAAE;IACrBC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;IAC9BD,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBhB,gBAAgB,CAACc,GAAG,CAACX,CAAC,EAAE3D,SAAS,CAAC;IAClC,OAAOA,SAAS;EAClB;AACF;AAEO,SAAS2E,OAAOA,CAAC1F,OAAe,EAAU;EAC/C;EACA,MAAM2F,OAAO,GAAG7B,uDAAU,CAAC,KAAK,CAAC,CAAC8B,MAAM,CAAC5F,OAAO,CAAC,CAAC6F,MAAM,CAAC,KAAK,CAAC,CAACpC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;EAC3E,MAAMqC,IAAI,GAAG,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAACN,OAAO,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC;EACzD,OAAOG,IAAI;AACb;AAEO,eAAeI,WAAWA,CAAClG,OAAe,EAAEmG,WAAmB,EAAmB;EACvF;EACA,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMC,UAAU,CAACrG,OAAO,CAAC;IACtC,MAAMsG,MAAM,GAAG9G,+CAAI,CAAC4G,IAAI,EAAE,KAAK,CAAC;IAChC,MAAM/B,8CAAK,CAACiC,MAAM,CAAC;IACnB,MAAMvC,uDAAK,CAACuC,MAAM,EAAE;MAACC,SAAS,EAAE;IAAI,CAAC,CAAC;IACtC,MAAMC,OAAO,GAAGhH,+CAAI,CAAC8G,MAAM,EAAEH,WAAW,CAAC;IACzC,IAAI,MAAM/B,+CAAM,CAACoC,OAAO,CAAC,EAAE;MACzB,MAAMtC,oDAAE,CAACsC,OAAO,CAAC;IACnB;IACA,OAAOA,OAAO;EAChB,CAAC,CAAC,MAAM;IACN,MAAM,IAAIC,KAAK,CAAE,yCAAwCzG,OAAQ,EAAC,CAAC;EACrE;AACF;AAEA,eAAeqG,UAAUA,CAACK,QAAgB,EAAmB;EAC3D,IAAI,MAAMtC,+CAAM,CAAC5E,+CAAI,CAACkH,QAAQ,EAAE,cAAc,CAAC,CAAC,EAAE;IAChD,OAAOA,QAAQ;EACjB;EACA,MAAMC,MAAM,GAAGnH,+CAAI,CAACkH,QAAQ,EAAE,IAAI,CAAC;EACnC,IAAIC,MAAM,KAAKD,QAAQ,EAAE;IACvB,MAAM,IAAID,KAAK,CAAC,wBAAwB,CAAC;EAC3C;EACA,OAAOJ,UAAU,CAACM,MAAM,CAAC;AAC3B;;;;;;ACxFA;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAwC;AACmB;AACnB;AAEW;AAE5C,MAAM;EAACO,MAAM;EAAEjD,QAAQ;EAAED,OAAO;EAAEG;AAAI,CAAC,GAAG2C,6CAAQ;AACzD,MAAM;EAACK,SAAS;EAAEpD,KAAK;EAAEG;AAAE,CAAC,GAAG4C,6CAAQ;AAEvC,IAAIM,UAAU,GAAG,IAAI;AACd,MAAMC,UAAU,GAAIC,OAAgB,IAAW;EACpDF,UAAU,GAAGE,OAAO;AACtB,CAAC;AAEM,eAAeC,aAAaA,CAAC/G,IAAY,EAAE0E,IAAa,EAAiB;EAC9E,MAAMsC,YAAY,CAAChH,IAAI,EAAG,GAAEmD,IAAI,CAACC,SAAS,CAACsB,IAAI,EAAEnE,SAAS,EAAE,CAAC,CAAE,IAAG,CAAC;AACrE;AAEA,MAAM0G,cAAc,GAAIC,MAAyB,KAC9C;EACCA,MAAM;EACNC,UAAU,EAAE,GAAG;EACfC,WAAW,EAAE,IAAI;EACjBC,aAAa,EAAE,KAAK;EACpBC,cAAc,EAAE,KAAK;EACrBC,WAAW,EAAE,OAAO;EACpBC,SAAS,EAAE;AACb,CAAC,CAAU;AAEb,eAAeC,eAAeA,CAC5BP,MAAyB,EACzBlH,IAAY,EACZ0H,IAAY,EACG;EACf,MAAMV,YAAY,CAAChH,IAAI,EAAEyG,gDAAM,CAACiB,IAAI,EAAET,cAAc,CAACC,MAAM,CAAC,CAAC,CAAC;AAChE;AAEA,SAASS,mBAAmBA,CAACT,MAAyB,EAAElH,IAAY,EAAE0H,IAAY,EAAQ;EACxFE,gBAAgB,CAAC5H,IAAI,EAAEyG,gDAAM,CAACiB,IAAI,EAAET,cAAc,CAACC,MAAM,CAAC,CAAC,CAAC;AAC9D;AAEO,eAAeW,WAAWA,CAAC7H,IAAY,EAAE8H,EAAU,EAAiB;EACzE,OAAOL,eAAe,CAAC,OAAO,EAAEzH,IAAI,EAAE8H,EAAE,CAAC;AAC3C;AAEO,SAASC,eAAeA,CAAC/H,IAAY,EAAE8H,EAAU,EAAQ;EAC9D,OAAOH,mBAAmB,CAAC,OAAO,EAAE3H,IAAI,EAAE8H,EAAE,CAAC;AAC/C;AAEO,eAAeE,WAAWA,CAAChI,IAAY,EAAEiI,EAAU,EAAiB;EACzE,OAAOR,eAAe,CAAC,YAAY,EAAEzH,IAAI,EAAEiI,EAAE,CAAC;AAChD;AAEO,SAASC,eAAeA,CAAClI,IAAY,EAAEiI,EAAU,EAAQ;EAC9D,OAAON,mBAAmB,CAAC,YAAY,EAAE3H,IAAI,EAAEiI,EAAE,CAAC;AACpD;AAEO,eAAejB,YAAYA,CAAChH,IAAY,EAAEmI,OAAe,EAAiB;EAC/E,IAAIvB,UAAU,EAAE;IACd5B,OAAO,CAACC,GAAG,CAAE,SAAQjF,IAAK,EAAC,CAAC;EAC9B;EACA,MAAMuD,KAAK,CAACiD,kDAAO,CAACxG,IAAI,CAAC,EAAE;IAAC+F,SAAS,EAAE;EAAI,CAAC,CAAC;EAC7C,MAAMY,SAAS,CAAC3G,IAAI,EAAEmI,OAAO,CAAC;AAChC;AAEO,SAASP,gBAAgBA,CAAC5H,IAAY,EAAEmI,OAAe,EAAQ;EACpE,IAAIvB,UAAU,EAAE;IACd5B,OAAO,CAACC,GAAG,CAAE,SAAQjF,IAAK,EAAC,CAAC;EAC9B;EACAqG,kDAAS,CAACG,kDAAO,CAACxG,IAAI,CAAC,EAAE;IAAC+F,SAAS,EAAE;EAAI,CAAC,CAAC;EAC3CQ,sDAAa,CAACvG,IAAI,EAAEmI,OAAO,CAAC;AAC9B;AAEO,eAAetE,KAAKA,CAACuE,OAAe,EAAiB;EAC1D,MAAM1E,EAAE,CAAC0E,OAAO,EAAE;IAACrC,SAAS,EAAE,IAAI;IAAEsC,KAAK,EAAE;EAAI,CAAC,CAAC;AACnD;AAEO,eAAeC,QAAQA,CAACF,OAAe,EAAiB;EAC7D,IAAIxB,UAAU,EAAE;IACd5B,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEmD,OAAO,CAAC;EAC/B;EACA,IAAI;IACF,MAAMvE,KAAK,CAACuE,OAAO,CAAC;EACtB,CAAC,SAAS;IACR,MAAM7E,KAAK,CAAC6E,OAAO,EAAE;MAACrC,SAAS,EAAE;IAAI,CAAC,CAAC;EACzC;AACF;AAEO,eAAewC,EAAEA,CAACC,IAAY,EAAEC,EAAU,EAAiB;EAChE,OAAO,IAAIC,OAAO,CAAC,CAACjH,OAAO,EAAEkH,MAAM,KAAK;IACtCvC,wDAAI,CAAE,SAAQoC,IAAK,IAAGC,EAAG,EAAC,EAAE1D,GAAG,IAAKA,GAAG,GAAG4D,MAAM,CAAC5D,GAAG,CAAC,GAAGtD,OAAO,CAAC,CAAE,CAAC;EACrE,CAAC,CAAC;AACJ;AAEO,eAAemC,MAAMA,CAAC5D,IAAY,EAAoB;EAC3D,IAAI;IACF,MAAM0G,MAAM,CAAC1G,IAAI,CAAC;IAClB,OAAO,IAAI;EACb,CAAC,CAAC,MAAM;IACN,OAAO,KAAK;EACd;AACF;AAEO,eAAe4I,aAAaA,CAAC5I,IAAY,EAA+B;EAC7E,IAAI;IACF,MAAMyE,WAAW,GAAG,MAAMhB,QAAQ,CAACzD,IAAI,CAAC;IACxC,OAAOyE,WAAW,CAACG,QAAQ,CAAC,CAAC;EAC/B,CAAC,CAAC,MAAM;IACN,OAAOrE,SAAS;EAClB;AACF;AAEO,eAAesI,SAASA,CAAC7I,IAAY,EAAqB;EAC/D,MAAM8I,KAAe,GAAG,EAAE;EAC1B,MAAMC,IAAI,GAAG,MAAMvF,OAAO,CAACxD,IAAI,EAAE;IAACgJ,aAAa,EAAE;EAAI,CAAC,CAAC;EACvD,MAAM1C,QAAyB,GAAG,EAAE;EACpC,KAAK,MAAM2C,GAAG,IAAIF,IAAI,EAAE;IACtB,MAAMG,OAAO,GAAGlK,+CAAI,CAACgB,IAAI,EAAEiJ,GAAG,CAACnI,IAAI,CAAC;IACpC,IAAImI,GAAG,CAAC3E,WAAW,CAAC,CAAC,EAAE;MACrBgC,QAAQ,CAAC6C,IAAI,CACXN,SAAS,CAACK,OAAO,CAAC,CAACE,IAAI,CAACC,QAAQ,IAAI;QAClCP,KAAK,CAACK,IAAI,CAAC,GAAGE,QAAQ,CAAC;MACzB,CAAC,CACH,CAAC;IACH,CAAC,MAAM,IAAIJ,GAAG,CAACK,MAAM,CAAC,CAAC,EAAE;MACvBR,KAAK,CAACK,IAAI,CAACD,OAAO,CAAC;IACrB;EACF;EACA,MAAMR,OAAO,CAACa,GAAG,CAACjD,QAAQ,CAAC;EAC3B,OAAOwC,KAAK;AACd;;;;;;AClIA;;;;;;ACAA;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;ACA+B;AAEW;AACJ;AACsB;AAGH;AACe;AAmCjE,MAAMc,kBAAkB,SAASH,iDAAY,CAAC;EACnC3I,IAAI,GAAG,oBAAoB;EACpC+I,WAAWA,CACAC,WAAmB,EACnCC,OAAe,EACfC,QAAiB,EACjBC,GAAyB,EACTC,MAAe,EAC/B;IACA,KAAK,CAACH,OAAO,CAAC;IAAC,KANCD,WAAmB,GAAnBA,WAAmB;IAAA,KAInBI,MAAe,GAAfA,MAAe;IAG/B,IAAIF,QAAQ,KAAKzJ,SAAS,EAAE;MAC1B,IAAI,CAAC4J,IAAI,GAAGH,QAAQ;IACtB;IACA,IAAIC,GAAG,EAAE;MACP,IAAI,CAACA,GAAG,GAAGA,GAAG;IAChB;EACF;AACF;AAEA,MAAMG,mBAAmB,GAAG,GAAG;AAE/B,MAAMC,YAAY,SAASV,oFAAgB,CAAC;EAChC7I,IAAI,GAAG,cAAc;EAGdwJ,UAAU,GAAG,IAAItG,GAAG,CAAoB,CAAC;EAI1D,MAAgBuG,KAAKA,CAACC,QAAkB,EAAiB;IACvD,OAAO,IAAI9B,OAAO,CAAOjH,OAAO,IAAI;MAClC,IAAI,CAACgJ,iBAAiB,GAAGC,WAAW,CAAC,MAAM,IAAI,CAACC,SAAS,CAAC,CAAC,EAAEP,mBAAmB,CAAC;MACjF,IAAI,CAACQ,OAAO,GAAGnL,+CAAK,CAAC,CAAC,aAAa,EAAE,cAAc,CAAC,CAACqD,GAAG,CAACoB,CAAC,IAAIlF,+CAAI,CAAC,IAAI,CAACQ,OAAO,EAAE0E,CAAC,CAAC,CAAC,CAAC;MACrF,IAAI,CAAC0G,OAAO,CACTC,EAAE,CAAC,KAAK,EAAE7K,IAAI,IAAI;QACjB,IAAI,CAACsK,UAAU,CAACzF,GAAG,CAAC7E,IAAI,EAAE;UAAC8K,MAAM,EAAE;QAAQ,CAAC,CAAC;MAC/C,CAAC,CAAC,CACDD,EAAE,CAAC,QAAQ,EAAE7K,IAAI,IAAI;QACpB,IAAI,CAACsK,UAAU,CAACzF,GAAG,CAAC7E,IAAI,EAAE;UAAC8K,MAAM,EAAE;QAAQ,CAAC,CAAC;MAC/C,CAAC,CAAC,CACDD,EAAE,CAAC,QAAQ,EAAE7K,IAAI,IAAI;QACpB,IAAI,CAACsK,UAAU,CAACS,MAAM,CAAC/K,IAAI,CAAC;MAC9B,CAAC,CAAC,CACD6K,EAAE,CAAC,OAAO,EAAE,MAAM;QACjB,IAAI,CAACF,SAAS,CAAC,CAAC;QAChBlJ,OAAO,CAAC,CAAC;MACX,CAAC,CAAC;MACJ+I,QAAQ,CAACQ,KAAK,CAACC,WAAW,CAACC,GAAG,CAAC,IAAI,CAACpK,IAAI,EAAEqK,IAAI,IAAI;QAChD,IAAI,CAACF,WAAW,GAAGE,IAAI;QACvB,IAAI,CAACC,qBAAqB,CAAC,CAAC;MAC9B,CAAC,CAAC;MACFZ,QAAQ,CAACQ,KAAK,CAACK,YAAY,CAACC,QAAQ,CAAC,IAAI,CAACxK,IAAI,EAAE,CAACmK,WAAW,EAAEM,EAAE,KAAK;QACnEC,UAAU,CAAC,MAAM;UACf,IAAI,CAACC,SAAS,CAAC,CAAC,CAACC,OAAO,CAACH,EAAE,CAAC;QAC9B,CAAC,EAAEnB,mBAAmB,CAAC;MACzB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEQO,SAASA,CAAA,EAAS;IACxB,MAAMgB,WAAW,GAAG,CAAC,GAAG,IAAI,CAACrB,UAAU,CAAC7H,OAAO,CAAC,CAAC,CAAC,CAACG,MAAM,CAACgJ,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAACd,MAAM,KAAK,QAAQ,CAAC;IACxF,IAAIa,WAAW,CAACzI,MAAM,KAAK,CAAC,EAAE;MAC5B;IACF;IAEA,MAAM4G,WAAW,GAAGvE,IAAI,CAACsG,MAAM,CAAC,CAAC;IACjC,KAAK,MAAM,CAAC7B,QAAQ,CAAC,IAAI2B,WAAW,EAAE;MACpC,IAAI,CAACrB,UAAU,CAACzF,GAAG,CAACmF,QAAQ,EAAE;QAACc,MAAM,EAAE,aAAa;QAAEhB;MAAW,CAAC,CAAC;IACrE;IAEA,MAAMgC,WAAW,GAAI/G,GAAY,IAAW;MAC1C,KAAK,MAAM,CAACiF,QAAQ,CAAC,IAAI2B,WAAW,EAAE;QACpC,MAAMI,YAAY,GAAG,IAAI,CAACzB,UAAU,CAAClG,GAAG,CAAC4F,QAAQ,CAAC;QAClD,IACE,CAAC+B,YAAY,IACbA,YAAY,CAACjB,MAAM,KAAK,aAAa,IACrCiB,YAAY,CAACjC,WAAW,KAAKA,WAAW,EACxC;UACA;QACF;QACA,IAAI,CAACQ,UAAU,CAACzF,GAAG,CAACmF,QAAQ,EAAE;UAACc,MAAM,EAAE,SAAS;UAAEhB,WAAW;UAAE/E;QAAG,CAAC,CAAC;MACtE;IACF,CAAC;IAED,IAAI;MACF,MAAMiH,YAAY,GAAGhN,+CAAI,CAAC,IAAI,CAACQ,OAAO,EAAE,eAAe,CAAC;MACxD,MAAMyM,MAAM,GAAG,IAAIzC,0CAAM,CAAC;QACxB0C,GAAG,EAAE,IAAI,CAAC1M,OAAO;QACjB2M,cAAc,EAAE;UACdC,QAAQ,EAAE;YACR;YACA,iBAAiB,EAAE;cACjBC,UAAU,EAAE;gBACVC,OAAO,EAAEN;cACX;YACF;UACF,CAAC;UACDO,aAAa,EAAE;YACbD,OAAO,EAAEN;UACX;QACF;MACF,CAAC,CAAC;MACFC,MAAM,CACHO,SAAS,CAACb,WAAW,CAAC7I,GAAG,CAAC8I,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACrCxC,IAAI,CAACqD,OAAO,IAAI;QACf,KAAK,MAAMC,MAAM,IAAID,OAAO,EAAE;UAC5B,MAAMV,YAAY,GAAG,IAAI,CAACzB,UAAU,CAAClG,GAAG,CAACsI,MAAM,CAAC1C,QAAQ,CAAC;UACzD,IACE,CAAC+B,YAAY,IACbA,YAAY,CAACjB,MAAM,KAAK,aAAa,IACrCiB,YAAY,CAACjC,WAAW,KAAKA,WAAW,EACxC;YACA;UACF;UACA,IAAI4C,MAAM,CAACC,QAAQ,CAACzJ,MAAM,GAAG,CAAC,EAAE;YAC9B,IAAI,CAACoH,UAAU,CAACzF,GAAG,CAAC6H,MAAM,CAAC1C,QAAQ,EAAE;cACnCc,MAAM,EAAE,QAAQ;cAChBhB,WAAW;cACX6C,QAAQ,EAAED,MAAM,CAACC;YACnB,CAAC,CAAC;UACJ,CAAC,MAAM;YACL,IAAI,CAACrC,UAAU,CAACzF,GAAG,CAAC6H,MAAM,CAAC1C,QAAQ,EAAE;cAACc,MAAM,EAAE,SAAS;cAAEhB;YAAW,CAAC,CAAC;UACxE;QACF;MACF,CAAC,CAAC,CACD8C,KAAK,CAACd,WAAW,CAAC,CAClBJ,OAAO,CAAC,MAAM;QACb,IAAI,CAACN,qBAAqB,CAAC,CAAC;QAC5B,IAAI,CAACyB,SAAS,CAAC,CAAC;MAClB,CAAC,CAAC;IACN,CAAC,CAAC,OAAO9H,GAAY,EAAE;MACrB+G,WAAW,CAAC/G,GAAG,CAAC;MAChB,IAAI,CAACqG,qBAAqB,CAAC,CAAC;MAC5B,IAAI,CAACyB,SAAS,CAAC,CAAC;IAClB;EACF;EAEQzB,qBAAqBA,CAAA,EAAS;IACpC,IAAI,CAAC,IAAI,CAACH,WAAW,EAAE;MACrB;IACF;;IAEA;IACA,IAAI6B,WAA2C;IAC/C,KAAK,MAAMC,SAAS,IAAI,IAAI,CAACzC,UAAU,CAAC0C,MAAM,CAAC,CAAC,EAAE;MAChD,IAAID,SAAS,CAACjC,MAAM,KAAK,SAAS,EAAE;QAClCgC,WAAW,GAAG,IAAIlD,kBAAkB,CAClCmD,SAAS,CAACjD,WAAW,EACpB,2BACCiD,SAAS,CAAChI,GAAG,YAAYkB,KAAK,GAAG8G,SAAS,CAAChI,GAAG,CAACkI,KAAK,GAAGjK,MAAM,CAAC+J,SAAS,CAAChI,GAAG,CAC5E,EACH,CAAC;MACH;IACF;IACA,IAAI,CAACkG,WAAW,CAACiC,MAAM,GAAG,CACxB,GAAI,IAAI,CAACjC,WAAW,CAACiC,MAAM,CAA2CtK,MAAM,CAC1EuK,CAAC,IAAI,EAAE,aAAa,IAAIA,CAAC,CAC3B,CAAC,EACD,IAAIL,WAAW,GAAG,CAACA,WAAW,CAAC,GAAG,EAAE,CAAC,CACtC;;IAED;IACA,IAAI,CAAC7B,WAAW,CAACmC,QAAQ,GAAG,CAC1B,GAAI,IAAI,CAACnC,WAAW,CAACmC,QAAQ,CAA2CxK,MAAM,CAC5EuK,CAAC,IAAI,EAAE,aAAa,IAAIA,CAAC,CAC3B,CAAC,EACD,GAAG,CAAC,GAAG,IAAI,CAAC7C,UAAU,CAAC7H,OAAO,CAAC,CAAC,CAAC,CAC9B4K,IAAI,CAAC,CAACC,EAAE,EAAEC,EAAE,KAAKD,EAAE,CAAC,CAAC,CAAC,CAACE,aAAa,CAACD,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAC5CE,OAAO,CAAC,CAAC,CAACzD,QAAQ,EAAE+C,SAAS,CAAC,KAAK;MAClC,IAAIA,SAAS,CAACjC,MAAM,KAAK,QAAQ,EAAE;QACjC,OAAO,EAAE;MACX;MACA,OAAOiC,SAAS,CAACJ,QAAQ,CAAC7J,GAAG,CAC3B4K,GAAG,IACD,IAAI9D,kBAAkB,CACpBmD,SAAS,CAACjD,WAAW,EACrBJ,yEAAS,CAACgE,GAAG,CAAC3D,OAAO,CAAC,EACtBC,QAAQ,EACR;QACE2D,KAAK,EAAE;UAACC,IAAI,EAAEF,GAAG,CAACE,IAAI;UAAEC,MAAM,EAAEH,GAAG,CAACG;QAAM,CAAC;QAC3CC,GAAG,EACDJ,GAAG,CAACK,OAAO,KAAKxN,SAAS,GACrBA,SAAS,GACT;UAACqN,IAAI,EAAEF,GAAG,CAACK,OAAO;UAAEF,MAAM,EAAEH,GAAG,CAACM;QAAS;MACjD,CAAC,EACDN,GAAG,CAACxD,MAAM,IAAI3J,SAChB,CACJ,CAAC;IACH,CAAC,CAAC,CACL;EACH;EAEQsM,SAASA,CAAA,EAAS;IACxB,IAAI,CAAC,IAAI,CAACoB,uBAAuB,EAAE;MACjC;IACF;IACA,KAAK,MAAMC,KAAK,IAAI,IAAI,CAAC5D,UAAU,CAAC0C,MAAM,CAAC,CAAC,EAAE;MAC5C,IAAIkB,KAAK,CAACpD,MAAM,KAAK,QAAQ,IAAIoD,KAAK,CAACpD,MAAM,KAAK,aAAa,EAAE;QAC/D;MACF;IACF;IACA,IAAI,CAACmD,uBAAuB,CAAC,CAAC;EAChC;EAEA,MAAcxC,SAASA,CAAA,EAAkB;IACvC,OAAO,IAAI/C,OAAO,CAAOjH,OAAO,IAAI;MAClC,IAAI,CAACwM,uBAAuB,GAAGxM,OAAO;MACtC,IAAI,CAACoL,SAAS,CAAC,CAAC;IAClB,CAAC,CAAC;EACJ;EAEA,MAAgBsB,QAAQA,CAAA,EAAkB;IAAA,IAAAC,aAAA;IACxCC,aAAa,CAAC,IAAI,CAAC5D,iBAAiB,CAAC;IACrC,QAAA2D,aAAA,GAAM,IAAI,CAACxD,OAAO,cAAAwD,aAAA,uBAAZA,aAAA,CAAcE,KAAK,CAAC,CAAC;EAC7B;AACF;AAEO,SAASrN,YAAYA,CAAA,EAAkB;EAC5C,OAAO,IAAIoJ,YAAY,CAAC,CAAC;AAC3B;;;;;;ACtQA;;;;;;ACAA;;;;;;;;;;ACAA,MAAMkE,SAAS,GAAG,IAAIC,MAAM,CAC1B,CACE,6FAA6F,EAC7F,0DAA0D,CAC3D,CAACxP,IAAI,CAAC,GAAG,CAAC,EACX,IACF,CAAC;AACM,MAAM0K,SAAS,GAAI+E,CAAS,IAAaA,CAAC,CAACC,OAAO,CAACH,SAAS,EAAE,EAAE,CAAC;;;;;;;;;;;;ACLjB;AACT;AAEvC,MAAe5E,gBAAgB,CAAC;EAE3BnK,OAAO,GAAWkD,OAAO,CAACwJ,GAAG,CAAC,CAAC;;EAEzC;;EAEO2C,KAAKA,CAACrE,QAAkB,EAAQ;IACrC,IAAI,CAAChL,OAAO,GAAGgL,QAAQ,CAAChL,OAAO;IAC/BgL,QAAQ,CAACQ,KAAK,CAAC8D,SAAS,CAACC,UAAU,CAAC,IAAI,CAACjO,IAAI,EAAE,YAAY,IAAI,CAACkO,YAAY,CAACxE,QAAQ,CAAC,CAAC;IACvFA,QAAQ,CAACQ,KAAK,CAACiE,QAAQ,CAACF,UAAU,CAAC,IAAI,CAACjO,IAAI,EAAE,YAAY,IAAI,CAACkO,YAAY,CAACxE,QAAQ,CAAC,CAAC;IACtFA,QAAQ,CAACQ,KAAK,CAACkE,QAAQ,CAACH,UAAU,CAAC,IAAI,CAACjO,IAAI,EAAE,YAAY,IAAI,CAACqO,gBAAgB,CAAC3E,QAAQ,CAAC,CAAC;IAC1FmE,uEAAoB,CAAC,MAAM,IAAI,CAACS,WAAW,CAAC5E,QAAQ,CAAC,CAAC;EACxD;EAKA;;EAEQ6E,UAAU,GAAG,KAAK;EAC1B,MAAcL,YAAYA,CAACxE,QAAkB,EAAiB;IAC5D,IAAI,IAAI,CAAC6E,UAAU,EAAE;MACnB;IACF;IACA,IAAI,CAACA,UAAU,GAAG,IAAI;IACtB,MAAM,IAAI,CAAC9E,KAAK,CAACC,QAAQ,CAAC;EAC5B;;EAEA;;EAEQ8E,SAAS,GAAG,KAAK;EACjBF,WAAWA,CAAC5E,QAAkB,EAAQ;IAC5C,IAAI,IAAI,CAAC8E,SAAS,EAAE;MAClB;IACF;IACA,IAAI,CAACA,SAAS,GAAG,IAAI;IACrB5G,OAAO,CAACjH,OAAO,CAAC,IAAI,CAAC0M,QAAQ,CAAC3D,QAAQ,CAAC,CAAC,CAACoC,KAAK,CAAC7H,GAAG,IAAI;MACpD6J,8DAAW,CAAE,mCAAkC,IAAI,CAAC9N,IAAK,EAAC,EAAEiE,GAAG,CAAC;IAClE,CAAC,CAAC;EACJ;EACA,MAAcoK,gBAAgBA,CAAC3E,QAAkB,EAAiB;IAChE,IAAI,IAAI,CAAC8E,SAAS,EAAE;MAClB;IACF;IACA,IAAI,CAACA,SAAS,GAAG,IAAI;IACrB,MAAM,IAAI,CAACnB,QAAQ,CAAC3D,QAAQ,CAAC;EAC/B;AACF;;;;;;;;;;;ACpD8C;AAE9C,IAAI+E,MAAM,GAAG,KAAK;AAClB,MAAMC,SAAyC,GAAG,EAAE;AAEpD,SAASC,YAAYA,CAAA,EAAS;EAC5B,IAAIF,MAAM,EAAE;IACV;EACF;EACAA,MAAM,GAAG,IAAI;EACb,KAAK,MAAMG,EAAE,IAAIF,SAAS,EAAE;IAC1B9G,OAAO,CAACjH,OAAO,CAACiO,EAAE,CAAC,CAAC,CAAC,CAAC9C,KAAK,CAAC7H,GAAG,IAAI6J,8DAAW,CAAC,sCAAsC,EAAE7J,GAAG,CAAC,CAAC;EAC9F;AACF;AAEArC,OAAO,CAACmI,EAAE,CAAC,YAAY,EAAE,MAAM4E,YAAY,CAAC,CAAC,CAAC;AAC9C/M,OAAO,CAACmI,EAAE,CAAC,MAAM,EAAE,MAAM4E,YAAY,CAAC,CAAC,CAAC;AACxC/M,OAAO,CAACmI,EAAE,CAAC,SAAS,EAAE,MAAM4E,YAAY,CAAC,CAAC,CAAC;AAC3C/M,OAAO,CAACmI,EAAE,CAAC,QAAQ,EAAE,MAAM4E,YAAY,CAAC,CAAC,CAAC;AAC1C/M,OAAO,CAACmI,EAAE,CAAC,mBAAmB,EAAE9F,GAAG,IAAI;EACrC6J,8DAAW,CAAC,mBAAmB,EAAE7J,GAAG,CAAC;EACrC0K,YAAY,CAAC,CAAC;AAChB,CAAC,CAAC;AAEK,SAASd,oBAAoBA,CAACpD,EAA8B,EAAQ;EACzEiE,SAAS,CAACrG,IAAI,CAACoC,EAAE,CAAC;AACpB;;;;;;;;;;;;AC1BuC;AAEhC,SAASqD,WAAWA,CAAC,GAAGgB,GAAc,EAAQ;EACnD,KAAK,MAAMC,IAAI,IAAID,GAAG,EAAE;IACtB,IAAI;MACF,MAAME,GAAG,GACP,OAAOD,IAAI,KAAK,QAAQ,GACpBA,IAAI,GACJA,IAAI,YAAY5J,KAAK,GACrB4J,IAAI,CAAC5C,KAAK,IAAIjK,MAAM,CAAC6M,IAAI,CAAC,GAC1B1M,IAAI,CAACC,SAAS,CAACyM,IAAI,CAAC;MAC1B7K,OAAO,CAAC+K,KAAK,CAACD,GAAG,CAAC;MAClBH,uDAAc,CAAC,WAAW,EAAEG,GAAG,CAAC;IAClC,CAAC,CAAC,MAAM;MACN9K,OAAO,CAAC+K,KAAK,CAAC/M,MAAM,CAAC4M,GAAG,CAAC,CAAC;MAC1BD,uDAAc,CAAC,WAAW,EAAE3M,MAAM,CAAC4M,GAAG,CAAC,CAAC;IAC1C;EACF;AACF;;;;;;;;;;;;;;AClB+B;AAEyC;AAIjE,SAAS1O,mBAAmBA,CAAC1B,OAAe,EAAiB;EAClE,OAAO,IAAIwQ,uEAA0B,CAAC;IACpC3D,UAAU,EAAE;MACV4D,iBAAiB,EAAE;QACjBC,SAAS,EAAE,IAAI;QACfC,QAAQ,EAAE,IAAI;QACdC,WAAW,EAAE,KAAK;QAClBC,MAAM,EAAE;MACV,CAAC;MACD9O,IAAI,EAAE,UAAU;MAChB+O,UAAU,EAAEtR,+CAAI,CAACQ,OAAO,EAAE,eAAe;IAC3C,CAAC;IACD+Q,SAAS,EAAE,OAAO;IAClBC,MAAM,EAAE;MAACvL,GAAG,EAAEA,CAAA,KAAM,CAAC,CAAC;MAAE8K,KAAK,EAAEA,CAAA,KAAM,CAAC;IAAC;EACzC,CAAC,CAAC;AACJ;;;;;;ACrBA;;;;;;;;;;;;ACAwD;AAIjD,SAAS5O,YAAYA,CAAA,EAAkB;EAC5C,OAAO,IAAIsP,8DAAmB,CAAC;IAC7BC,aAAa,EAAE;MACbjK,MAAM,EAAE;QACNkK,QAAQ,EAAE;MACZ;IACF,CAAC;IACDC,eAAe,EAAE;EACnB,CAAC,CAAC;AACJ;;;;;;ACbA;;;;;;;;;;;;;;ACAiD;AACT;AAUxC,SAASG,UAAUA,CAAC/Q,IAAY,EAAY;EAC1C,MAAMgR,MAAM,GAAG7N,IAAI,CAACwB,KAAK,CAACmM,qDAAY,CAAC9Q,IAAI,CAAC,CAAC4E,QAAQ,CAAC,CAAC,CAAa;EACpE,IAAI,OAAOoM,MAAM,CAACC,OAAO,KAAK,QAAQ,EAAE;IACtC,OAAOD,MAAM;EACf;EACA,IAAIE,YAAsB,GAAG,CAAC,CAAC;EAC/B,IAAI3M,GAAG,GAAGiC,kDAAO,CAACxG,IAAI,CAAC;EACvB,MAAMmR,UAAU,GAAGH,MAAM,CAACC,OAAO,IAAID,MAAM,CAACC,OAAO,CAACG,QAAQ,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,OAAO,CAAC;EACrF,IAAID,UAAU,CAACtO,UAAU,CAAC,IAAI,CAAC,EAAE;IAC/BqO,YAAY,GAAGH,UAAU,CAAC/R,+CAAI,CAACuF,GAAG,EAAE4M,UAAU,CAAC,CAAC;EAClD,CAAC,MAAM;IACL,OAAO,IAAI,EAAE;MACX,MAAME,SAAS,GAAGrS,+CAAI,CAACuF,GAAG,EAAE,cAAc,EAAE4M,UAAU,CAAC;MACvD,IAAIN,mDAAU,CAACQ,SAAS,CAAC,EAAE;QACzBH,YAAY,GAAGH,UAAU,CAACM,SAAS,CAAC;QACpC;MACF;MACA,MAAMC,MAAM,GAAGtS,+CAAI,CAACuF,GAAG,EAAE,IAAI,CAAC;MAC9B,IAAI+M,MAAM,KAAK/M,GAAG,EAAE;QAClB;MACF;MACAA,GAAG,GAAG+M,MAAM;IACd;EACF;EACA,OAAON,MAAM,CAACC,OAAO;EACrB,OAAO;IACL,GAAGC,YAAY;IACf,GAAGF,MAAM;IACTO,eAAe,EAAE;MACf,GAAGL,YAAY,CAACK,eAAe;MAC/B,GAAGP,MAAM,CAACO;IACZ;EACF,CAAC;AACH;AAEO,SAASnQ,gBAAgBA,CAAC5B,OAAe,EAA4B;EAC1E,MAAMgS,YAAY,GAAGxS,+CAAI,CAACQ,OAAO,EAAE,eAAe,CAAC;EACnD,MAAM;IAACiS,KAAK,GAAG,CAAC;EAAC,CAAC,GAAGV,UAAU,CAACS,YAAY,CAAC,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;EACtE,MAAM7P,KAA+B,GAAG,CAAC,CAAC;EAE1C,KAAK,MAAM+P,IAAI,IAAInP,MAAM,CAACoP,IAAI,CAACF,KAAK,CAAC,EAAE;IAAA,IAAAG,WAAA;IACrC,MAAMC,GAAG,GAAGH,IAAI,CAAChD,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;IAClC,MAAM3L,KAAK,GAAG,EAAA6O,WAAA,GAAAH,KAAK,CAACC,IAAI,CAAC,cAAAE,WAAA,uBAAXA,WAAA,CAAa9O,GAAG,CAACgP,CAAC,IAAI9S,+CAAI,CAACQ,OAAO,EAAEsS,CAAC,CAACpD,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC,KAAI,EAAE;IAC9F/M,KAAK,CAACkQ,GAAG,CAAC,GAAG9O,KAAK;EACpB;EACA,OAAOpB,KAAK;AACd;;;;;;;;;;;;;;;;ACzDwC;AACD;AACR;AAIxB,MAAMN,UAAU,CAAC;EACfwN,KAAKA,CAACrE,QAAkB,EAAQ;IACrCA,QAAQ,CAACQ,KAAK,CAAC8D,SAAS,CAACxD,QAAQ,CAAC,YAAY,EAAE,CAACd,QAAQ,EAAEe,EAAE,KAAK;MAChE,MAAMwG,OAAO,GAAG,CACd,MAAM,EACN,SAAS,EACT,SAAS,EACT,eAAe,EACf,mBAAmB,EACnB,mBAAmB,EACnB,oBAAoB,CACrB,CAAC/S,IAAI,CAAC,GAAG,CAAC;MACXoH,wDAAI,CAAC2L,OAAO,EAAE;QAAC7F,GAAG,EAAE1B,QAAQ,CAAChL;MAAO,CAAC,EAAE,CAACuQ,KAAK,EAAEiC,MAAM,EAAEC,MAAM,KAAK;QAChE,IAAIlC,KAAK,EAAE;UACT/K,OAAO,CAAC+K,KAAK,CAAE,kBAAiBvF,QAAQ,CAAChL,OAAQ,EAAC,CAAC;UACnD+L,EAAE,CAACwE,KAAK,CAAC;UACT;QACF;QACA,MAAM3C,QAAQ,GAAG6E,MAAM,CAACC,KAAK,CAAC,IAAI,CAAC,CAACtP,MAAM,CAACuP,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAClP,MAAM,GAAG,CAAC,CAAC;QACpE,IAAIkK,QAAQ,CAAClK,MAAM,GAAG,CAAC,EAAE;UACvByM,uDAAc,CAAC3Q,+CAAI,CAACwL,QAAQ,CAAChL,OAAO,EAAG,oBAAmB,CAAC,EAAEyS,MAAM,CAAC;QACtE;QACA1G,EAAE,CAAC,CAAC;MACN,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;AACF;;;;;;;;;;;;;;;;;;;;;;;AChCA;AACqB;AACM;AACO;AACZ;AACO;AACiB;AAGA;AAC9C;;AAEO,SAASrM,cAAcA,CAAA,EAAkB;EAC9C,OAAO;IACL0B,IAAI,EAAE,UAAU;IAChByR,OAAO,EAAE,mBAAmB;IAC5BC,MAAM,EAAE,cAAc;IACtBC,OAAO,EAAE;MACPC,OAAO,EAAE,CACP,CACE,mBAAmB,EACnB;QACEC,OAAO,EAAE,OAAO;QAChBC,QAAQ,EAAE,IAAI;QACdC,WAAW,EAAE,OAAO;QACpBC,MAAM,EAAE;UAACC,OAAO,EAAE;QAAM;MAC1B,CAAC,CACF,EACD,CAAC,qBAAqB,EAAE;QAACC,OAAO,EAAE;MAAW,CAAC,CAAC,EAC/C,CAAC,0BAA0B,CAAC,CAC7B;MACDzS,OAAO,EAAEyD,8DAAU,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,yBAAyB,EAAE;QAACiP,UAAU,EAAE,CAAC,cAAc;MAAC,CAAC,CAAC;IAC3F;EACF,CAAC;AACH;;;;;;AClCA;;;;;;ACAA;;;;;;ACAA;;;;;;ACAA;;;;;;ACAA;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;ACAA;AACqB;AACM;AACO;AACZ;AACK;AAG3B;;AAEO,SAAS5T,eAAeA,CAAA,EAAkB;EAC/C,OAAO;IACLyB,IAAI,EAAE,QAAQ;IACdoS,GAAG,EAAE,CAAC,mBAAmB,CAAC;IAC1BjS,OAAO,EAAE;EACX,CAAC;AACH;;;;;;AChBA;;;;;;;;;;;;;;;ACA+B;AAEqB;AAGV;AAEnC,SAAS3B,UAAUA,CAACI,OAAe,EAAiB;EACzD,OAAO,IAAIyT,4DAAiB,CAAC;IAC3BC,QAAQ,EAAElU,+CAAI,CAACQ,OAAO,EAAE,gBAAgB,CAAC;IACzCE,UAAU,EAAE,iBAAiB;IAC7ByT,MAAM,EAAE7R,0DAAM,CAAC;EACjB,CAAC,CAAC;AACJ;;;;;;ACbA;;;;;;;;;;;;;;;ACAuC;AACR;AAIyB;AAUjD,SAASjC,gBAAgBA,CAACG,OAAe,EAAiB;EAC/D,MAAM8F,IAAI,GAAGJ,2DAAO,CAAC1F,OAAO,CAAC;EAE7B,IAAIwG,OAA2B;EAC/B,IAAIoN,SAAkC,GAAG,EAAE;EAC3C1N,+DAAW,CAAClG,OAAO,EAAE,wBAAwB,CAAC,CAC3C4J,IAAI,CAACe,IAAI,IAAI;IACZnE,OAAO,GAAGmE,IAAI;IACd,KAAK,MAAMkJ,QAAQ,IAAID,SAAS,EAAE;MAChCnO,GAAG,CAACoO,QAAQ,CAAC;IACf;IACAD,SAAS,GAAG,EAAE;EAChB,CAAC,CAAC,CACDxG,KAAK,CAAC5H,OAAO,CAAC+K,KAAK,CAAC;EACvB,SAAS9K,GAAGA,CAACqO,KAA4B,EAAQ;IAC/C,IAAItN,OAAO,KAAKzF,SAAS,EAAE;MACzB6S,SAAS,CAACjK,IAAI,CAACmK,KAAK,CAAC;IACvB,CAAC,MAAM;MACL3D,uDAAc,CAAC3J,OAAO,EAAG,GAAE7C,IAAI,CAACC,SAAS,CAAC;QAACmQ,CAAC,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;QAAE,GAAGH;MAAK,CAAC,CAAE,IAAG,CAAC;IACzF;EACF;EAEA,OAAO;IACLI,MAAM,EAAE1U,+CAAI,CAACQ,OAAO,EAAE,MAAM,CAAC;IAC7BmU,QAAQ,EAAE,IAAI;IACdC,GAAG,EAAE,IAAI;IACTtO,IAAI;IACJuO,MAAM,EAAE;MACNC,OAAO,EAAE,MAAM;MACfC,OAAO,EAAE;IACX,CAAC;IACDC,aAAa,EAAE;MACbC,WAAW,EAAE;IACf,CAAC;IACDC,WAAW,EAAEA,CAAA,KAAMjP,GAAG,CAAC;MAACqO,KAAK,EAAE,OAAO;MAAEhO;IAAI,CAAC;EAC/C,CAAC;AACH;;;;;SCnDA;SACA;;SAEA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;;SAEA;SACA;;SAEA;SACA;SACA;;;;;UCtBA;UACA;UACA;UACA;UACA;UACA,iCAAiC,WAAW;UAC5C;UACA;;;;;UCPA;UACA;UACA;UACA;UACA,yCAAyC,wCAAwC;UACjF;UACA;UACA;;;;;UCPA;;;;;UCAA;UACA;UACA;UACA,uDAAuD,iBAAiB;UACxE;UACA,gDAAgD,aAAa;UAC7D;;;;;;;;;;;;ACJ0D;AAEnD,SAAS0L,MAAMA,CAACzR,IAAqC,EAAiB;EAC3E,OAAOD,0EAAS,CAACC,IAAI,CAAC;AACxB,C","sources":["webpack://b/./src/webpack/configs/web_config.ts","webpack://b/external node-commonjs \"node:path\"","webpack://b/./src/webpack/configs/base_config.ts","webpack://b/./src/webpack/plugins/define_plugin.ts","webpack://b/external node-commonjs \"webpack\"","webpack://b/./src/webpack/utils.ts","webpack://b/external node-commonjs \"node:crypto\"","webpack://b/external node-commonjs \"node:fs/promises\"","webpack://b/./src/fs.ts","webpack://b/external node-commonjs \"node:child_process\"","webpack://b/external node-commonjs \"node:fs\"","webpack://b/external node-commonjs \"prettier\"","webpack://b/./src/webpack/plugins/eslint_plugin.ts","webpack://b/external node-commonjs \"chokidar\"","webpack://b/external node-commonjs \"eslint\"","webpack://b/./src/webpack/plugins/formatter.ts","webpack://b/./src/webpack/plugins/standalone_plugin.ts","webpack://b/./src/exit_handler.ts","webpack://b/./src/global_error.ts","webpack://b/./src/webpack/plugins/fork_ts_checker_plugin.ts","webpack://b/external node-commonjs \"fork-ts-checker-webpack-plugin\"","webpack://b/./src/webpack/plugins/terser_plugin.ts","webpack://b/external node-commonjs \"terser-webpack-plugin\"","webpack://b/./src/webpack/plugins/ts_config_alias.ts","webpack://b/./src/webpack/plugins/yarn_plugin.ts","webpack://b/./src/webpack/loaders/babel_loader_web.ts","webpack://b/external node-commonjs \"@babel/core\"","webpack://b/external node-commonjs \"@babel/preset-env\"","webpack://b/external node-commonjs \"@babel/preset-typescript\"","webpack://b/external node-commonjs \"babel-loader\"","webpack://b/external node-commonjs \"@babel/preset-react\"","webpack://b/external node-commonjs \"babel-plugin-react-remove-properties\"","webpack://b/./src/webpack/loaders/source_map_loader.ts","webpack://b/external node-commonjs \"source-map-loader\"","webpack://b/./src/webpack/plugins/html_plugin.ts","webpack://b/external node-commonjs \"html-webpack-plugin\"","webpack://b/./src/webpack/plugins/webpack_dev_server.ts","webpack://b/webpack/bootstrap","webpack://b/webpack/runtime/compat get default export","webpack://b/webpack/runtime/define property getters","webpack://b/webpack/runtime/hasOwnProperty shorthand","webpack://b/webpack/runtime/make namespace object","webpack://b/./src/webpack/web.ts"],"sourcesContent":["import {join} from 'node:path';\n\nimport {Configuration} from 'webpack';\n\nimport {baseConfig} from '@src/webpack/configs/base_config';\nimport {babelLoaderWeb} from '@src/webpack/loaders/babel_loader_web';\nimport {sourceMapLoader} from '@src/webpack/loaders/source_map_loader';\nimport {htmlPlugin} from '@src/webpack/plugins/html_plugin';\nimport {webpackDevServer} from '@src/webpack/plugins/webpack_dev_server';\n\nexport function webConfig(opts: {\n  context: string;\n  watch: boolean;\n  publicPath: string;\n}): Configuration {\n  const {context, watch, publicPath} = opts;\n  const base = baseConfig({context, watch});\n  return {\n    ...base,\n    target: 'web',\n    entry: {main: join(context, 'src/index.tsx')},\n    output: {\n      path: join(context, 'dist'),\n      filename: `[name].[contenthash].js`,\n      clean: true,\n      publicPath: '/',\n    },\n    module: {\n      rules: [babelLoaderWeb(), sourceMapLoader()],\n    },\n    plugins: [...(base.plugins ?? []), htmlPlugin({context, publicPath})],\n    devServer: watch ? webpackDevServer(context) : undefined,\n    optimization: {\n      ...base.optimization,\n      splitChunks: {\n        cacheGroups: {\n          vendor: {\n            test: /[/\\\\]node_modules[/\\\\]/u,\n            chunks: 'initial',\n            name: 'vendor',\n            enforce: true,\n          },\n        },\n      },\n    },\n  };\n}\n","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"node:path\");","import {Configuration} from 'webpack';\n\nimport {definePlugin} from '@src/webpack/plugins/define_plugin';\nimport {eslintPlugin} from '@src/webpack/plugins/eslint_plugin';\nimport {forkTsCheckerPlugin} from '@src/webpack/plugins/fork_ts_checker_plugin';\nimport {terserPlugin} from '@src/webpack/plugins/terser_plugin';\nimport {getTsConfigAlias} from '@src/webpack/plugins/ts_config_alias';\nimport {YarnPlugin} from '@src/webpack/plugins/yarn_plugin';\nimport {isProd} from '@src/webpack/utils';\n\nexport function baseConfig(opts: {context: string; watch: boolean}): Configuration {\n  const {context} = opts;\n\n  return {\n    mode: 'none',\n    context,\n    entry: {},\n    devtool: 'source-map',\n    resolve: {\n      extensions: ['.js', '.jsx', '.ts', '.tsx'],\n      alias: getTsConfigAlias(context),\n    },\n    plugins: [new YarnPlugin(), forkTsCheckerPlugin(context), eslintPlugin(), definePlugin()],\n    stats: false,\n    infrastructureLogging: {level: 'error'},\n    optimization: {\n      minimize: isProd(),\n      minimizer: [terserPlugin()],\n    },\n    experiments: {\n      backCompat: true,\n    },\n  };\n}\n","import webpack from 'webpack'; // eslint-disable-line import/no-named-as-default\n\nimport {WebpackPlugin} from '@src/webpack/models';\nimport {getEnv} from '@src/webpack/utils';\n\nexport function definePlugin(): WebpackPlugin {\n  const envPrefix = 'MATTHIS_';\n  const extraEnv = Object.fromEntries(\n    Object.entries(process.env) // eslint-disable-line node/no-process-env\n      .filter(([name]) => name.startsWith(envPrefix))\n      .map(([name, value]) => [String(name.slice(envPrefix.length)), JSON.stringify(value)])\n  );\n  return new webpack.DefinePlugin({\n    /* eslint-disable @typescript-eslint/naming-convention */\n    'process.env.NODE_ENV': JSON.stringify(getEnv()),\n    /* eslint-enable @typescript-eslint/naming-convention */\n    ...extraEnv,\n  });\n}\n","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"webpack\");","import {createHash} from 'node:crypto';\nimport {mkdir, readdir, readFile, rm, stat} from 'node:fs/promises';\nimport {join, resolve} from 'node:path';\n\nimport {exists, rmDir} from '@src/fs';\n\nexport interface WebpackConfigFragment {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  config: () => any;\n  dependencies: Record<string, string>;\n}\n\nexport function isProd(): boolean {\n  return process.env['NODE_ENV'] === 'production'; // eslint-disable-line node/no-process-env\n}\n\nexport function isSelenium(): boolean {\n  return process.env['IS_SELENIUM'] === '1'; // eslint-disable-line node/no-process-env\n}\n\nexport function getEnv(): 'production' | 'development' {\n  return isProd() ? 'production' : 'development';\n}\n\nconst packageJsonCache = new Map<string, Record<string, unknown> | undefined>();\n\nexport async function findPackageJson(p: string): Promise<Record<string, unknown> | undefined> {\n  if (packageJsonCache.has(p)) {\n    return packageJsonCache.get(p);\n  }\n  try {\n    const pStat = await stat(p);\n    if (pStat.isDirectory()) {\n      const dir = await readdir(p);\n      if (dir.includes('package.json')) {\n        const fileContent = await readFile(join(p, 'package.json'));\n        const json = JSON.parse(fileContent.toString()) as Record<string, unknown>;\n        packageJsonCache.set(p, json);\n        return json;\n      }\n      if (p === '/') {\n        return undefined;\n      }\n    }\n    const res = await findPackageJson(resolve(`${p}/..`));\n    packageJsonCache.set(p, res);\n    return res;\n  } catch (err: unknown) {\n    console.log('findPackageJson');\n    console.log(err);\n    packageJsonCache.set(p, undefined);\n    return undefined;\n  }\n}\n\nexport function getPort(context: string): number {\n  // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n  const hexHash = createHash('md5').update(context).digest('hex').slice(0, 4);\n  const port = 1024 + Math.floor(parseInt(hexHash, 16) / 2);\n  return port;\n}\n\nexport async function initLogFile(context: string, logFileName: string): Promise<string> {\n  // Find the root of the project and create the log dir there\n  try {\n    const root = await lookupRoot(context);\n    const logDir = join(root, 'log');\n    await rmDir(logDir);\n    await mkdir(logDir, {recursive: true});\n    const logFile = join(logDir, logFileName);\n    if (await exists(logFile)) {\n      await rm(logFile);\n    }\n    return logFile;\n  } catch {\n    throw new Error(`Failure to identify project root from ${context}`);\n  }\n}\n\nasync function lookupRoot(fromPath: string): Promise<string> {\n  if (await exists(join(fromPath, 'package.json'))) {\n    return fromPath;\n  }\n  const parent = join(fromPath, '..');\n  if (parent === fromPath) {\n    throw new Error('Failure to lookup root');\n  }\n  return lookupRoot(parent);\n}\n","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"node:crypto\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"node:fs/promises\");","import {exec} from 'node:child_process';\nimport {mkdirSync, promises, writeFileSync} from 'node:fs';\nimport {dirname, join} from 'node:path';\n\nimport {BuiltInParserName, format} from 'prettier';\n\nexport const {access, readFile, readdir, stat} = promises;\nconst {writeFile, mkdir, rm} = promises;\n\nlet logEnabled = true;\nexport const setLogging = (enabled: boolean): void => {\n  logEnabled = enabled;\n};\n\nexport async function writeJsonFile(path: string, json: unknown): Promise<void> {\n  await writeRawFile(path, `${JSON.stringify(json, undefined, 2)}\\n`);\n}\n\nconst prettierConfig = (parser: BuiltInParserName) =>\n  ({\n    parser,\n    printWidth: 100,\n    singleQuote: true,\n    trailingComma: 'es5',\n    bracketSpacing: false,\n    arrowParens: 'avoid',\n    endOfLine: 'auto',\n  } as const);\n\nasync function writePrettyFile(\n  parser: BuiltInParserName,\n  path: string,\n  code: string\n): Promise<void> {\n  await writeRawFile(path, format(code, prettierConfig(parser)));\n}\n\nfunction writePrettyFileSync(parser: BuiltInParserName, path: string, code: string): void {\n  writeRawFileSync(path, format(code, prettierConfig(parser)));\n}\n\nexport async function writeJsFile(path: string, js: string): Promise<void> {\n  return writePrettyFile('babel', path, js);\n}\n\nexport function writeJsFileSync(path: string, js: string): void {\n  return writePrettyFileSync('babel', path, js);\n}\n\nexport async function writeTsFile(path: string, ts: string): Promise<void> {\n  return writePrettyFile('typescript', path, ts);\n}\n\nexport function writeTsFileSync(path: string, ts: string): void {\n  return writePrettyFileSync('typescript', path, ts);\n}\n\nexport async function writeRawFile(path: string, content: string): Promise<void> {\n  if (logEnabled) {\n    console.log(`write ${path}`);\n  }\n  await mkdir(dirname(path), {recursive: true});\n  await writeFile(path, content);\n}\n\nexport function writeRawFileSync(path: string, content: string): void {\n  if (logEnabled) {\n    console.log(`write ${path}`);\n  }\n  mkdirSync(dirname(path), {recursive: true});\n  writeFileSync(path, content);\n}\n\nexport async function rmDir(dirPath: string): Promise<void> {\n  await rm(dirPath, {recursive: true, force: true});\n}\n\nexport async function cleanDir(dirPath: string): Promise<void> {\n  if (logEnabled) {\n    console.log('clean', dirPath);\n  }\n  try {\n    await rmDir(dirPath);\n  } finally {\n    await mkdir(dirPath, {recursive: true});\n  }\n}\n\nexport async function cp(from: string, to: string): Promise<void> {\n  return new Promise((resolve, reject) => {\n    exec(`cp -R ${from} ${to}`, err => (err ? reject(err) : resolve()));\n  });\n}\n\nexport async function exists(path: string): Promise<boolean> {\n  try {\n    await access(path);\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nexport async function maybeReadFile(path: string): Promise<string | undefined> {\n  try {\n    const fileContent = await readFile(path);\n    return fileContent.toString();\n  } catch {\n    return undefined;\n  }\n}\n\nexport async function listFiles(path: string): Promise<string[]> {\n  const files: string[] = [];\n  const ents = await readdir(path, {withFileTypes: true});\n  const promises: Promise<void>[] = [];\n  for (const ent of ents) {\n    const entPath = join(path, ent.name);\n    if (ent.isDirectory()) {\n      promises.push(\n        listFiles(entPath).then(subFiles => {\n          files.push(...subFiles);\n        })\n      );\n    } else if (ent.isFile()) {\n      files.push(entPath);\n    }\n  }\n  await Promise.all(promises);\n  return files;\n}\n","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"node:child_process\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"node:fs\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"prettier\");","import {join} from 'node:path';\n\nimport {FSWatcher, watch} from 'chokidar';\nimport {ESLint, Linter} from 'eslint';\nimport {Compilation, Compiler, WebpackError} from 'webpack';\n\nimport {WebpackPlugin} from '@src/webpack/models';\nimport {stripAnsi} from '@src/webpack/plugins/formatter';\nimport {StandalonePlugin} from '@src/webpack/plugins/standalone_plugin';\n\ninterface QueuedFileState {\n  status: 'queued';\n}\n\ninterface InProgressFileState {\n  status: 'in-progress';\n  eslintRunId: number;\n}\n\ninterface SuccessFileState {\n  status: 'success';\n  eslintRunId: number;\n}\n\ninterface FailureFileState {\n  status: 'failed';\n  eslintRunId: number;\n  messages: Linter.LintMessage[];\n}\n\ninterface ErroredFileState {\n  status: 'errored';\n  eslintRunId: number;\n  err: unknown;\n}\n\ntype FileState =\n  | QueuedFileState\n  | InProgressFileState\n  | SuccessFileState\n  | FailureFileState\n  | ErroredFileState;\n\nexport class EslintWebpackError extends WebpackError {\n  public override name = 'EslintWebpackError';\n  public constructor(\n    public readonly eslintRunId: number,\n    message: string,\n    filePath?: string,\n    loc?: WebpackError['loc'],\n    public readonly ruleId?: string\n  ) {\n    super(message);\n    if (filePath !== undefined) {\n      this.file = filePath;\n    }\n    if (loc) {\n      this.loc = loc;\n    }\n  }\n}\n\nconst RUN_ESLINT_INTERVAL = 500;\n\nclass EslintPlugin extends StandalonePlugin {\n  protected name = 'EslintPlugin';\n  private watcher: FSWatcher | undefined;\n  private runEslintInterval: NodeJS.Timeout | undefined;\n  private readonly fileStates = new Map<string, FileState>();\n  private compilation: Compilation | undefined;\n  private resolveAwaitIdlePromise: (() => void) | undefined;\n\n  protected async setup(compiler: Compiler): Promise<void> {\n    return new Promise<void>(resolve => {\n      this.runEslintInterval = setInterval(() => this.runEslint(), RUN_ESLINT_INTERVAL);\n      this.watcher = watch(['src/**/*.ts', 'src/**/*.tsx'].map(p => join(this.context, p)));\n      this.watcher\n        .on('add', path => {\n          this.fileStates.set(path, {status: 'queued'});\n        })\n        .on('change', path => {\n          this.fileStates.set(path, {status: 'queued'});\n        })\n        .on('unlink', path => {\n          this.fileStates.delete(path);\n        })\n        .on('ready', () => {\n          this.runEslint();\n          resolve();\n        });\n      compiler.hooks.compilation.tap(this.name, comp => {\n        this.compilation = comp;\n        this.syncErrorsAndWarnings();\n      });\n      compiler.hooks.afterCompile.tapAsync(this.name, (compilation, cb) => {\n        setTimeout(() => {\n          this.awaitIdle().finally(cb);\n        }, RUN_ESLINT_INTERVAL);\n      });\n    });\n  }\n\n  private runEslint(): void {\n    const filesQueued = [...this.fileStates.entries()].filter(e => e[1].status === 'queued');\n    if (filesQueued.length === 0) {\n      return;\n    }\n\n    const eslintRunId = Math.random();\n    for (const [filePath] of filesQueued) {\n      this.fileStates.set(filePath, {status: 'in-progress', eslintRunId});\n    }\n\n    const handleError = (err: unknown): void => {\n      for (const [filePath] of filesQueued) {\n        const currentState = this.fileStates.get(filePath);\n        if (\n          !currentState ||\n          currentState.status !== 'in-progress' ||\n          currentState.eslintRunId !== eslintRunId\n        ) {\n          continue;\n        }\n        this.fileStates.set(filePath, {status: 'errored', eslintRunId, err});\n      }\n    };\n\n    try {\n      const tsConfigPath = join(this.context, 'tsconfig.json');\n      const eslint = new ESLint({\n        cwd: this.context,\n        overrideConfig: {\n          settings: {\n            // eslint-disable-next-line @typescript-eslint/naming-convention\n            'import/resolver': {\n              typescript: {\n                project: tsConfigPath,\n              },\n            },\n          },\n          parserOptions: {\n            project: tsConfigPath,\n          },\n        },\n      });\n      eslint\n        .lintFiles(filesQueued.map(e => e[0]))\n        .then(results => {\n          for (const result of results) {\n            const currentState = this.fileStates.get(result.filePath);\n            if (\n              !currentState ||\n              currentState.status !== 'in-progress' ||\n              currentState.eslintRunId !== eslintRunId\n            ) {\n              continue;\n            }\n            if (result.messages.length > 0) {\n              this.fileStates.set(result.filePath, {\n                status: 'failed',\n                eslintRunId,\n                messages: result.messages,\n              });\n            } else {\n              this.fileStates.set(result.filePath, {status: 'success', eslintRunId});\n            }\n          }\n        })\n        .catch(handleError)\n        .finally(() => {\n          this.syncErrorsAndWarnings();\n          this.checkIdle();\n        });\n    } catch (err: unknown) {\n      handleError(err);\n      this.syncErrorsAndWarnings();\n      this.checkIdle();\n    }\n  }\n\n  private syncErrorsAndWarnings(): void {\n    if (!this.compilation) {\n      return;\n    }\n\n    // Errors\n    let eslintError: EslintWebpackError | undefined;\n    for (const fileState of this.fileStates.values()) {\n      if (fileState.status === 'errored') {\n        eslintError = new EslintWebpackError(\n          fileState.eslintRunId,\n          `Failure to run ESLint:\\n${\n            fileState.err instanceof Error ? fileState.err.stack : String(fileState.err)\n          }`\n        );\n      }\n    }\n    this.compilation.errors = [\n      ...(this.compilation.errors as (EslintWebpackError | WebpackError)[]).filter(\n        w => !('eslintRunId' in w)\n      ),\n      ...(eslintError ? [eslintError] : []),\n    ];\n\n    // Warnings\n    this.compilation.warnings = [\n      ...(this.compilation.warnings as (EslintWebpackError | WebpackError)[]).filter(\n        w => !('eslintRunId' in w)\n      ),\n      ...[...this.fileStates.entries()]\n        .sort((e1, e2) => e1[0].localeCompare(e2[0]))\n        .flatMap(([filePath, fileState]) => {\n          if (fileState.status !== 'failed') {\n            return [];\n          }\n          return fileState.messages.map(\n            msg =>\n              new EslintWebpackError(\n                fileState.eslintRunId,\n                stripAnsi(msg.message),\n                filePath,\n                {\n                  start: {line: msg.line, column: msg.column},\n                  end:\n                    msg.endLine === undefined\n                      ? undefined\n                      : {line: msg.endLine, column: msg.endColumn},\n                },\n                msg.ruleId ?? undefined\n              )\n          );\n        }),\n    ];\n  }\n\n  private checkIdle(): void {\n    if (!this.resolveAwaitIdlePromise) {\n      return;\n    }\n    for (const state of this.fileStates.values()) {\n      if (state.status === 'queued' || state.status === 'in-progress') {\n        return;\n      }\n    }\n    this.resolveAwaitIdlePromise();\n  }\n\n  private async awaitIdle(): Promise<void> {\n    return new Promise<void>(resolve => {\n      this.resolveAwaitIdlePromise = resolve;\n      this.checkIdle();\n    });\n  }\n\n  protected async teardown(): Promise<void> {\n    clearInterval(this.runEslintInterval);\n    await this.watcher?.close();\n  }\n}\n\nexport function eslintPlugin(): WebpackPlugin {\n  return new EslintPlugin();\n}\n","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"chokidar\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"eslint\");","const ansiRegex = new RegExp(\n  [\n    '[\\\\u001B\\\\u009B][[\\\\]()#;?]*(?:(?:(?:[a-zA-Z\\\\d]*(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]*)*)?\\\\u0007)',\n    '(?:(?:\\\\d{1,4}(?:;\\\\d{0,4})*)?[\\\\dA-PR-TZcf-ntqry=><~]))',\n  ].join('|'),\n  'gu'\n);\nexport const stripAnsi = (s: string): string => s.replace(ansiRegex, '');\n","import {Compiler} from 'webpack';\n\nimport {registerExitCallback} from '@src/exit_handler';\nimport {globalError} from '@src/global_error';\n\nexport abstract class StandalonePlugin {\n  protected abstract name: string;\n  protected context: string = process.cwd();\n\n  // INITIALIZE\n\n  public apply(compiler: Compiler): void {\n    this.context = compiler.context;\n    compiler.hooks.beforeRun.tapPromise(this.name, async () => this.setupHandler(compiler));\n    compiler.hooks.watchRun.tapPromise(this.name, async () => this.setupHandler(compiler));\n    compiler.hooks.shutdown.tapPromise(this.name, async () => this.exitHandlerAsync(compiler));\n    registerExitCallback(() => this.exitHandler(compiler));\n  }\n\n  protected abstract setup(compiler: Compiler): void | Promise<void>;\n  protected abstract teardown(compiler: Compiler): void | Promise<void>;\n\n  // SETUP\n\n  private hasStarted = false;\n  private async setupHandler(compiler: Compiler): Promise<void> {\n    if (this.hasStarted) {\n      return;\n    }\n    this.hasStarted = true;\n    await this.setup(compiler);\n  }\n\n  // EXIT\n\n  private hasExited = false;\n  private exitHandler(compiler: Compiler): void {\n    if (this.hasExited) {\n      return;\n    }\n    this.hasExited = true;\n    Promise.resolve(this.teardown(compiler)).catch(err => {\n      globalError(`Error during teardown of plugin ${this.name}`, err);\n    });\n  }\n  private async exitHandlerAsync(compiler: Compiler): Promise<void> {\n    if (this.hasExited) {\n      return;\n    }\n    this.hasExited = true;\n    await this.teardown(compiler);\n  }\n}\n","import {globalError} from '@src/global_error';\n\nlet called = false;\nconst callbacks: (() => void | Promise<void>)[] = [];\n\nfunction runCallbacks(): void {\n  if (called) {\n    return;\n  }\n  called = true;\n  for (const fn of callbacks) {\n    Promise.resolve(fn()).catch(err => globalError('Failure to run exit cleanup callback', err));\n  }\n}\n\nprocess.on('beforeExit', () => runCallbacks());\nprocess.on('exit', () => runCallbacks());\nprocess.on('SIGTERM', () => runCallbacks());\nprocess.on('SIGINT', () => runCallbacks());\nprocess.on('uncaughtException', err => {\n  globalError('uncaughtException', err);\n  runCallbacks();\n});\n\nexport function registerExitCallback(cb: () => void | Promise<void>): void {\n  callbacks.push(cb);\n}\n","import {appendFileSync} from 'node:fs';\n\nexport function globalError(...val: unknown[]): void {\n  for (const data of val) {\n    try {\n      const str =\n        typeof data === 'string'\n          ? data\n          : data instanceof Error\n          ? data.stack ?? String(data)\n          : JSON.stringify(data);\n      console.error(str);\n      appendFileSync('error.log', str);\n    } catch {\n      console.error(String(val));\n      appendFileSync('error.log', String(val));\n    }\n  }\n}\n","import {join} from 'node:path';\n\nimport ForkTsCheckerWebpackPlugin from 'fork-ts-checker-webpack-plugin';\n\nimport {WebpackPlugin} from '@src/webpack/models';\n\nexport function forkTsCheckerPlugin(context: string): WebpackPlugin {\n  return new ForkTsCheckerWebpackPlugin({\n    typescript: {\n      diagnosticOptions: {\n        syntactic: true,\n        semantic: true,\n        declaration: false,\n        global: true,\n      },\n      mode: 'readonly',\n      configFile: join(context, 'tsconfig.json'),\n    },\n    formatter: 'basic',\n    logger: {log: () => {}, error: () => {}},\n  });\n}\n","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"fork-ts-checker-webpack-plugin\");","import TerserWebpackPlugin from 'terser-webpack-plugin';\n\nimport {WebpackPlugin} from '@src/webpack/models';\n\nexport function terserPlugin(): WebpackPlugin {\n  return new TerserWebpackPlugin({\n    terserOptions: {\n      format: {\n        comments: false,\n      },\n    },\n    extractComments: false,\n  });\n}\n","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"terser-webpack-plugin\");","import {existsSync, readFileSync} from 'node:fs';\nimport {dirname, join} from 'node:path';\n\ninterface TsConfig {\n  extends?: string;\n  compilerOptions?: {\n    paths?: Record<string, string[]>;\n  };\n  [key: string]: unknown;\n}\n\nfunction loadConfig(path: string): TsConfig {\n  const config = JSON.parse(readFileSync(path).toString()) as TsConfig;\n  if (typeof config.extends !== 'string') {\n    return config;\n  }\n  let extendConfig: TsConfig = {};\n  let dir = dirname(path);\n  const extendPath = config.extends + (config.extends.endsWith('.json') ? '' : '.json');\n  if (extendPath.startsWith('./')) {\n    extendConfig = loadConfig(join(dir, extendPath));\n  } else {\n    while (true) {\n      const pathToTry = join(dir, 'node_modules', extendPath);\n      if (existsSync(pathToTry)) {\n        extendConfig = loadConfig(pathToTry);\n        break;\n      }\n      const newDir = join(dir, '..');\n      if (newDir === dir) {\n        break;\n      }\n      dir = newDir;\n    }\n  }\n  delete config.extends;\n  return {\n    ...extendConfig,\n    ...config,\n    compilerOptions: {\n      ...extendConfig.compilerOptions,\n      ...config.compilerOptions,\n    },\n  };\n}\n\nexport function getTsConfigAlias(context: string): Record<string, string[]> {\n  const tsconfigPath = join(context, 'tsconfig.json');\n  const {paths = {}} = loadConfig(tsconfigPath)['compilerOptions'] ?? {};\n  const alias: Record<string, string[]> = {};\n\n  for (const item of Object.keys(paths)) {\n    const key = item.replace('/*', '');\n    const value = paths[item]?.map(v => join(context, v.replace('/*', '').replace('*', ''))) ?? [];\n    alias[key] = value;\n  }\n  return alias;\n}\n","import {exec} from 'node:child_process';\nimport {appendFileSync} from 'node:fs';\nimport {join} from 'node:path';\n\nimport {Compiler} from 'webpack';\n\nexport class YarnPlugin {\n  public apply(compiler: Compiler): void {\n    compiler.hooks.beforeRun.tapAsync('YarnPlugin', (compiler, cb) => {\n      const command = [\n        'yarn',\n        'install',\n        '--audit',\n        '--check-files',\n        '--ignore-optional',\n        '--non-interactive',\n        '--production=false',\n      ].join(' ');\n      exec(command, {cwd: compiler.context}, (error, stdout, stderr) => {\n        if (error) {\n          console.error(`Yarn failed in ${compiler.context}`);\n          cb(error);\n          return;\n        }\n        const warnings = stderr.split('\\n').filter(l => l.trim().length > 0);\n        if (warnings.length > 0) {\n          appendFileSync(join(compiler.context, `.yarn-warnings.log`), stderr);\n        }\n        cb();\n      });\n    });\n  }\n}\n","/* eslint-disable import/no-unassigned-import */\nimport '@babel/core';\nimport '@babel/preset-env';\nimport '@babel/preset-typescript';\nimport 'babel-loader';\nimport '@babel/preset-react';\nimport 'babel-plugin-react-remove-properties';\n\nimport {WebpackLoader} from '@src/webpack/models';\nimport {isSelenium} from '@src/webpack/utils';\n/* eslint-enable import/no-unassigned-import */\n\nexport function babelLoaderWeb(): WebpackLoader {\n  return {\n    test: /\\.tsx?$/u,\n    exclude: /\\/node_modules\\//u,\n    loader: 'babel-loader',\n    options: {\n      presets: [\n        [\n          '@babel/preset-env',\n          {\n            targets: '> 10%',\n            bugfixes: true,\n            useBuiltIns: 'usage',\n            corejs: {version: '3.10'},\n          },\n        ],\n        ['@babel/preset-react', {runtime: 'automatic'}],\n        ['@babel/preset-typescript'],\n      ],\n      plugins: isSelenium() ? [] : [['react-remove-properties', {properties: ['data-test-id']}]],\n    },\n  };\n}\n","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"@babel/core\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"@babel/preset-env\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"@babel/preset-typescript\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"babel-loader\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"@babel/preset-react\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"babel-plugin-react-remove-properties\");","/* eslint-disable import/no-unassigned-import */\nimport '@babel/core';\nimport '@babel/preset-env';\nimport '@babel/preset-typescript';\nimport 'babel-loader';\nimport 'source-map-loader';\n\nimport {WebpackLoader} from '@src/webpack/models';\n/* eslint-enable import/no-unassigned-import */\n\nexport function sourceMapLoader(): WebpackLoader {\n  return {\n    test: /\\.js$/u,\n    use: ['source-map-loader'],\n    enforce: 'pre',\n  };\n}\n","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"source-map-loader\");","import {join} from 'node:path';\n\nimport HtmlWebpackPlugin from 'html-webpack-plugin';\n\nimport {WebpackPlugin} from '@src/webpack/models';\nimport {isProd} from '@src/webpack/utils';\n\nexport function htmlPlugin(context: string): WebpackPlugin {\n  return new HtmlWebpackPlugin({\n    template: join(context, 'src/index.html'),\n    publicPath: '{{PUBLIC_PATH}}',\n    minify: isProd(),\n  });\n}\n","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"html-webpack-plugin\");","import {appendFileSync} from 'node:fs';\nimport {join} from 'node:path';\n\nimport {Configuration} from 'webpack-dev-server';\n\nimport {getPort, initLogFile} from '@src/webpack/utils';\n\nexport interface WebpackDevServerStartEvent {\n  event: 'start';\n  port: number;\n}\n\nexport type WebpackDevServerEvent = WebpackDevServerStartEvent;\nexport type FullWebpackDevServerEvent = {t: string} & WebpackDevServerEvent;\n\nexport function webpackDevServer(context: string): Configuration {\n  const port = getPort(context);\n\n  let logFile: string | undefined;\n  let logsSaved: WebpackDevServerEvent[] = [];\n  initLogFile(context, 'webpack_dev_server.txt')\n    .then(file => {\n      logFile = file;\n      for (const logEvent of logsSaved) {\n        log(logEvent);\n      }\n      logsSaved = [];\n    })\n    .catch(console.error);\n  function log(event: WebpackDevServerEvent): void {\n    if (logFile === undefined) {\n      logsSaved.push(event);\n    } else {\n      appendFileSync(logFile, `${JSON.stringify({t: new Date().toISOString(), ...event})}\\n`);\n    }\n  }\n\n  return {\n    static: join(context, 'dist'),\n    compress: true,\n    hot: true,\n    port,\n    client: {\n      logging: 'none',\n      overlay: false,\n    },\n    devMiddleware: {\n      writeToDisk: true,\n    },\n    onListening: () => log({event: 'start', port}),\n  };\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {Configuration} from 'webpack';\n\nimport {webConfig} from '@src/webpack/configs/web_config';\n\nexport function config(opts: Parameters<typeof webConfig>[0]): Configuration {\n  return webConfig(opts);\n}\n"],"names":["join","baseConfig","babelLoaderWeb","sourceMapLoader","htmlPlugin","webpackDevServer","webConfig","opts","context","watch","publicPath","base","target","entry","main","output","path","filename","clean","module","rules","plugins","devServer","undefined","optimization","splitChunks","cacheGroups","vendor","test","chunks","name","enforce","definePlugin","eslintPlugin","forkTsCheckerPlugin","terserPlugin","getTsConfigAlias","YarnPlugin","isProd","mode","devtool","resolve","extensions","alias","stats","infrastructureLogging","level","minimize","minimizer","experiments","backCompat","webpack","getEnv","envPrefix","extraEnv","Object","fromEntries","entries","process","env","filter","startsWith","map","value","String","slice","length","JSON","stringify","DefinePlugin","createHash","mkdir","readdir","readFile","rm","stat","exists","rmDir","isSelenium","packageJsonCache","Map","findPackageJson","p","has","get","pStat","isDirectory","dir","includes","fileContent","json","parse","toString","set","res","err","console","log","getPort","hexHash","update","digest","port","Math","floor","parseInt","initLogFile","logFileName","root","lookupRoot","logDir","recursive","logFile","Error","fromPath","parent","exec","mkdirSync","promises","writeFileSync","dirname","format","access","writeFile","logEnabled","setLogging","enabled","writeJsonFile","writeRawFile","prettierConfig","parser","printWidth","singleQuote","trailingComma","bracketSpacing","arrowParens","endOfLine","writePrettyFile","code","writePrettyFileSync","writeRawFileSync","writeJsFile","js","writeJsFileSync","writeTsFile","ts","writeTsFileSync","content","dirPath","force","cleanDir","cp","from","to","Promise","reject","maybeReadFile","listFiles","files","ents","withFileTypes","ent","entPath","push","then","subFiles","isFile","all","ESLint","WebpackError","stripAnsi","StandalonePlugin","EslintWebpackError","constructor","eslintRunId","message","filePath","loc","ruleId","file","RUN_ESLINT_INTERVAL","EslintPlugin","fileStates","setup","compiler","runEslintInterval","setInterval","runEslint","watcher","on","status","delete","hooks","compilation","tap","comp","syncErrorsAndWarnings","afterCompile","tapAsync","cb","setTimeout","awaitIdle","finally","filesQueued","e","random","handleError","currentState","tsConfigPath","eslint","cwd","overrideConfig","settings","typescript","project","parserOptions","lintFiles","results","result","messages","catch","checkIdle","eslintError","fileState","values","stack","errors","w","warnings","sort","e1","e2","localeCompare","flatMap","msg","start","line","column","end","endLine","endColumn","resolveAwaitIdlePromise","state","teardown","_this$watcher","clearInterval","close","ansiRegex","RegExp","s","replace","registerExitCallback","globalError","apply","beforeRun","tapPromise","setupHandler","watchRun","shutdown","exitHandlerAsync","exitHandler","hasStarted","hasExited","called","callbacks","runCallbacks","fn","appendFileSync","val","data","str","error","ForkTsCheckerWebpackPlugin","diagnosticOptions","syntactic","semantic","declaration","global","configFile","formatter","logger","TerserWebpackPlugin","terserOptions","comments","extractComments","existsSync","readFileSync","loadConfig","config","extends","extendConfig","extendPath","endsWith","pathToTry","newDir","compilerOptions","tsconfigPath","paths","item","keys","_paths$item","key","v","command","stdout","stderr","split","l","trim","exclude","loader","options","presets","targets","bugfixes","useBuiltIns","corejs","version","runtime","properties","use","HtmlWebpackPlugin","template","minify","logsSaved","logEvent","event","t","Date","toISOString","static","compress","hot","client","logging","overlay","devMiddleware","writeToDisk","onListening"],"sourceRoot":""}